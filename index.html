<!DOCTYPE html>
<html>
<head>
<title>Post System</title>
</head>
<body>
<h1>Post System</h1>
<div id="threads"></div>
<div id="post-input">
<input type="text" id="post-title">
<input type="text" id="post-body">
<button id="post-button">Post</button>
</div>
<script>
// Get the threads from the server.
var threads = fetch("https://raw.githubusercontent.com/layionellmendez/post-system/main/data.json").then(response => response.json());

// Loop through the threads and create a new <div> element for each one.
threads.forEach(thread => {
  var div = document.createElement("div");
  div.id = "thread-" + thread.id;
  div.textContent = thread.title;
  document.getElementById("threads").appendChild(div);
});

// Handle the post button click.
document.getElementById("post-button").addEventListener("click", function() {
  // Get the post title and body.
  var title = document.getElementById("post-title").value;
  var body = document.getElementById("post-body").value;

  // Post the message to the server.
  fetch("https://raw.githubusercontent.com/layionellmendez/post-system/main/post.php", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      title: title,
      body: body,
    }),
  }).then(response => response.json());
});

</script>
</body>
</html>
